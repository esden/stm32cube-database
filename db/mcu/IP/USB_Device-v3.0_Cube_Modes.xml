<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<IP xmlns:ns0="http://www.w3.org/2001/XMLSchema-instance"
	ns0:schemaLocation="http://mcd.rou.st.com/modules.php?name=mcu ../../../../../../../doc/V4/Development/Specifications/db/IP_Modes.xsd"
 	xmlns="http://mcd.rou.st.com/modules.php?name=mcu"
 	DBVersion="V4.0"
 	IPType="middleware"
 	IpGroup="Middleware"
 	Name="USB_Device"
 	Version="v3.0_Cube">
  	<About>USB_DEVICE: Universal Serial Bus Device</About>
	
	<!-- #define to be generated in usb_conf.h -->
	<!-- Common RefParameter for mono and multi instance -->
	<!-- i.e. USB_FS and USB_HS are together on Host/Device mode --> 	
	<!-- Begin -->
	<RefParameter Name="USBD_MAX_NUM_CONFIGURATION" Comment="USBD_MAX_NUM_CONFIGURATION (Maximum number of supported configuration)" Min="1" Max="255" DefaultValue="1"  Type="integer" Group="Basic Parameters">		
		<Description>Maximum number of supported configurations</Description>
	</RefParameter>
	
	<RefParameter Name="USBD_MAX_NUM_INTERFACES" Comment="USBD_MAX_NUM_INTERFACES (Maximum number of supported interfaces)" Min="1" Max="255" DefaultValue="1"  Type="integer" Group="Basic Parameters">		
		<Description>Maximum number of supported Interfaces</Description>
	</RefParameter>
		
	
	<RefParameter Name="USBD_MAX_STR_DESC_SIZ" Comment="USBD_MAX_STR_DESC_SIZ (Maximum size for the string descriptors)" Min="1" Max="65536" DefaultValue="512"  Type="integer" Group="Basic Parameters" Unit="bytes">		
		<Description>Maximum size of string descriptors</Description>
	</RefParameter>
	
	<!-- Tracker 312690 and 42620 -->
	<RefParameter Name="USBD_SUPPORT_USER_STRING" Comment="USBD_SUPPORT_USER_STRING (Enable user string descriptor)" DefaultValue="1"  Type="list" Group="Basic Parameters">
		<Condition Expression="(VirtualModeFS=Dfu_FS &amp; !DEVICE_HIGH_SPEED) | (VirtualModeHS=Dfu_HS &amp; !DEVICE_FULL_SPEED)" Diagnostic=""/>
		<PossibleValue Comment="Enabled" Value="1"/>
		<PossibleValue Comment="Disabled" Value="0"/>
		<Description>Enable User string support</Description>
	</RefParameter>
	<!--
	<RefParameter Name="USBD_SUPPORT_USER_STRING" Comment="USBD_SUPPORT_USER_STRING (Enable user string descriptor)" DefaultValue="0"  Type="list" Group="Basic Parameters">
		<Condition Expression="VirtualModeFS=Custom_Hid_FS | VirtualModeHS=Custom_Hid_HS" Diagnostic=""/>				
		<PossibleValue Comment="Disabled" Value="0"/>
		<Description>Enable User string support</Description>
	</RefParameter>
	-->
	<!-- Tracker 42620 -->
	<RefParameter Name="USBD_SUPPORT_USER_STRING" Comment="USBD_SUPPORT_USER_STRING (Enable user string descriptor)" DefaultValue="0"  Type="list" Group="Basic Parameters">		
		<PossibleValue Comment="Disabled" Value="0"/>
		<!--<PossibleValue Comment="Enabled" Value="1"/>-->
		<Description>Enable User string support</Description>
	</RefParameter>
	
	<RefParameter Name="USBD_SELF_POWERED" Comment="USBD_SELF_POWERED (Enabled self power)" DefaultValue="1" Type="list" Group="Basic Parameters">
		<PossibleValue Comment="Enabled" Value="1"/>	
		<PossibleValue Comment="Disabled" Value="0"/>	
		<Description>Enable Self power feature</Description>
	</RefParameter>	
	
	<RefParameter Name="USBD_DEBUG_LEVEL" Comment="USBD_DEBUG_LEVEL (USBD Debug Level)" DefaultValue="0" Type="list" Group="Basic Parameters">
		<PossibleValue Value="0" Comment="0: No debug message"/>	
		<PossibleValue Value="1" Comment="1: Only User messages are shown"/>	
		<PossibleValue Value="2" Comment="2: User + Error messages"/>
		<PossibleValue Value="3" Comment="3: All messages and internal debug messages are shown"/>	
		<Description>Define different level output trace as folowing :
			&lt;br&gt; 0 : No debug message is shown
			&lt;br&gt; 1 : only User message are shown
			&lt;br&gt; 2 : User + Error messages are shown
			&lt;br&gt; 3 : All message and interal debug message are shown
		</Description>
	</RefParameter>
	
	<!-- Link Power Management -->
	<RefParameter Name="USBD_LPM_ENABLED" Comment="USBD_LPM_ENABLED (Link Power Management)" DefaultValue="1" Type="list"  Group="Basic Parameters" Visible="true">		
		<!-- Tracker 342471 LPM supported for F412-->
		<Condition Expression="STM32F446 | STM32F469_479 | STM32L4 | STM32F7 | STM32F412 | STM32WB" Diagnostic=""/>
		<PossibleValue Value="0" Comment="0: Link Power Management not supported"/>
		<PossibleValue Value="1" Comment="1: Link Power Management supported"/>
		<Description>The Link Power mmanagement available for STM32F446, STM32F469, STM32F479, STM32F7 and STM32L4 families</Description>	
	</RefParameter>
	<RefParameter Name="USBD_LPM_ENABLED" Comment="USBD_LPM_ENABLED (Link Power Management)" DefaultValue="0" Type="list" Group="Basic Parameters" Visible="false">		
		<Description>The Link Power mmanagement available only for STM32F446, STM32F7 and STM32L4 families</Description>	
	</RefParameter>
	
	<!-- Specific RefParameter for mono and multi instance -->
	<!-- Virtual Mode Parameter, to define RefParameter in function of RefMode -->
	<RefParameter Comment="" DefaultValue="Ccid" Name="VirtualMode" Type="list" Visible="false" Group="Basic Parameters" >
		<PossibleValue Comment="" Value="Audio"/>
		<PossibleValue Comment="" Value="Ccid"/>
		<PossibleValue Comment="" Value="Cdc"/>
		<PossibleValue Comment="" Value="Dfu"/>
		<PossibleValue Comment="" Value="Hid"/>
		<PossibleValue Comment="" Value="CustomHid"/>
		<PossibleValue Comment="" Value="Msc"/>							
		<PossibleValue Comment="" Value="Mtp"/>
	</RefParameter>
	<RefParameter Comment="" DefaultValue="Audio" Name="VirtualModeHS" Type="list" Visible="false" Group="Basic Parameters" >
		<PossibleValue Comment="" Value="Audio_HS"/>
		<PossibleValue Comment="" Value="Ccid_HS"/>
		<PossibleValue Comment="" Value="Cdc_HS"/>
		<PossibleValue Comment="" Value="Dfu_HS"/>
		<PossibleValue Comment="" Value="Hid_HS"/>
		<PossibleValue Comment="" Value="Custom_Hid_HS"/>
		<PossibleValue Comment="" Value="Msc_HS"/>							
		<PossibleValue Comment="" Value="Mtp_HS"/>
	</RefParameter>
	<RefParameter Comment="" DefaultValue="Audio" Name="VirtualModeFS" Type="list" Visible="false" Group="Basic Parameters" >
		<PossibleValue Comment="" Value="Audio_FS"/>
		<PossibleValue Comment="" Value="Ccid_FS"/>
		<PossibleValue Comment="" Value="Cdc_FS"/>
		<PossibleValue Comment="" Value="Dfu_FS"/>
		<PossibleValue Comment="" Value="Hid_FS"/>
		<PossibleValue Comment="" Value="Custom_Hid_FS"/>
		<PossibleValue Comment="" Value="Msc_FS"/>							
		<PossibleValue Comment="" Value="Mtp_FS"/>
	</RefParameter>
	<!-- Device Descriptors Configuration -->
	<RefParameter Name="VID" Comment="VID (Vendor IDentifier)" DefaultValue="1155" Type="integer" Min="0" Max="65535" Group="Device Descriptor" TabName="Device Descriptor">
		<Description>The Vendor Identfier value present on the Device Descriptor</Description>
	</RefParameter>

	<RefParameter Name="LANGID_STRING" Comment="LANGID_STRING (Language Identifier)" DefaultValue="1033" Type="List" Group="Device Descriptor"  TabName="Device Descriptor">
		<PossibleValue Value="1033" Comment="English(United States)"/>
		<PossibleValue Value="1036" Comment="French (Standard)"/>
		<PossibleValue Value="1031" Comment="German (Standard)"/>
		<PossibleValue Value="1040" Comment="Italian (Standard)"/>
		<PossibleValue Value="1041" Comment="Japanese"/>
		<PossibleValue Value="1042" Comment="Korean"/>
		<Description>The language used by the string descriptor</Description>		
	</RefParameter>
		
	<RefParameter Name="MANUFACTURER_STRING" Comment="MANUFACTURER_STRING (Manufacturer Identifier)" DefaultValue="STMicroelectronics" Type="stringRW" Group="Device Descriptor"  TabName="Device Descriptor">
		<Description>The manufacturer string identifier</Description>
	</RefParameter>
	<!-- End -->
	
	<!-- Device Descriptors Configuration HS -->
	<RefParameter Name="PID_AUDIO_HS" Comment="PID (Product IDentifier)" DefaultValue="22336" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_CCID_HS" Comment="PID (Product IDentifier)" DefaultValue="8453" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_CDC_HS" Comment="PID (Product IDentifier)" DefaultValue="22336" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_DFU_HS" Comment="PID (Product IDentifier)" DefaultValue="57105" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_HID_HS" Comment="PID (Product IDentifier)" DefaultValue="22315" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">		
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_MSC_HS" Comment="PID (Product IDentifier)" DefaultValue="22314" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_MTP_HS" Comment="PID (Product IDentifier)" DefaultValue="22384" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>	
	<RefParameter Name="PID_CUSTOMHID_HS" Comment="PID (Product IDentifier)" DefaultValue="22352 " Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>	
	<RefParameter Name="PID_HS" Comment="PID (Product IDentifier)" DefaultValue="0" Type="integer" Min="0" Max="65535" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>		
	</RefParameter>	
	<RefParameter Name="CLASS_NAME_HS" Comment="" DefaultValue="1" Type="integer" Min="0" Max="65535" Group="" TabName="Device Descriptor" Visible="false">
		<Description>The Product Identfier value present on the Device Descriptor</Description>		
	</RefParameter>
	
	<!-- Device Descriptors Configuration FS -->
	<RefParameter Name="PID_AUDIO_FS" Comment="PID (Product IDentifier)" DefaultValue="22336" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_CCID_FS" Comment="PID (Product IDentifier)" DefaultValue="8453" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_CDC_FS" Comment="PID (Product IDentifier)" DefaultValue="22336" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_DFU_FS" Comment="PID (Product IDentifier)" DefaultValue="57105" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_HID_FS" Comment="PID (Product IDentifier)" DefaultValue="22315" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_MSC_FS" Comment="PID (Product IDentifier)" DefaultValue="22314" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>
	<RefParameter Name="PID_MTP_FS" Comment="PID (Product IDentifier)" DefaultValue="22384" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>	
	<RefParameter Name="PID_CUSTOMHID_FS" Comment="PID (Product IDentifier)" DefaultValue="22352 " Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>
	</RefParameter>	
	<RefParameter Name="PID_FS" Comment="PID (Product IDentifier)" DefaultValue="1" Type="integer" Min="0" Max="65535" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The Product Identfier value present on the Device Descriptor</Description>		
	</RefParameter>
	<RefParameter Name="CLASS_NAME_FS" Comment="" DefaultValue="1" Type="integer" Min="0" Max="65535" Group="" TabName="Device Descriptor" Visible="false">
		<Description>The Product Identfier value present on the Device Descriptor</Description>		
	</RefParameter>
	
	<!-- Audio Class -->
	<RefParameter Name="PRODUCT_STRING_AUDIO_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Audio Class" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_AUDIO_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_AUDIO_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="AUDIO Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_AUDIO_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="AUDIO Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_AUDIO_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Audio Class" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Condition Expression="VirtualModeFS = Audio_FS" Diagnostic=""/>
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_AUDIO_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_AUDIO_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="AUDIO Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_AUDIO_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="AUDIO Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- Ccid Class -->
	<RefParameter Name="PRODUCT_STRING_CCID_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Ccid Class" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CCID_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CCID_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="CCID Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CCID_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="CCID Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_CCID_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Ccid Class" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CCID_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CCID_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="CCID Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CCID_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="CCID Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- Cdc Class -->
	<RefParameter Name="PRODUCT_STRING_CDC_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Virtual ComPort" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CDC_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CDC_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="CDC Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CDC_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="CDC Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_CDC_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Virtual ComPort" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CDC_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CDC_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="CDC Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CDC_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="CDC Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- Dfu Class -->
	<RefParameter Name="PRODUCT_STRING_DFU_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 DownLoad Firmware Update" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_DFU_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_DFU_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="DFU Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_DFU_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="DFU Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>	
	<RefParameter Name="PRODUCT_STRING_DFU_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 DownLoad Firmware Update" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_DFU_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_DFU_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="DFU Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_DFU_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="DFU Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- Hid Class -->
	<RefParameter Name="PRODUCT_STRING_HID_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Human interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_HID_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_HID_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="HID Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_HID_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="HID Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_HID_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Human interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_HID_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_HID_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="HID Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_HID_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="HID Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- Custom Hid Class -->
	<RefParameter Name="PRODUCT_STRING_CUSTOMHID_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Custom Human interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CUSTOMHID_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CUSTOMHID_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="Custom HID Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CUSTOMHID_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="Custom HID Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_CUSTOMHID_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Custom Human interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>
	<RefParameter Name="SERIALNUMBER_STRING_CUSTOMHID_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">			
		<Description>The serial number identifier</Description>
	</RefParameter>
	<RefParameter Name="CONFIGURATION_STRING_CUSTOMHID_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="Custom HID Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_CUSTOMHID_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="Custom HID Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- MSC Class -->
	<RefParameter Name="PRODUCT_STRING_MSC_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Mass Storage" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_MSC_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_MSC_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="MSC Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_MSC_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="MSC Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_MSC_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Mass Storage" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_MSC_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_MSC_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="MSC Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_MSC_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="MSC Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- MTP Class -->
	<RefParameter Name="PRODUCT_STRING_MTP_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Mtp Class" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_MTP_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_MTP_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="MTP Config" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_MTP_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="MTP Interface" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_MTP_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="STM32 Mtp Class" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_MTP_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="00000000001A" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_MTP_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="MTP Config" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_MTP_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="MTP Interface" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<!-- User Class -->
	<RefParameter Name="PRODUCT_STRING_HS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_HS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_HS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>
	<RefParameter Name="INTERFACE_STRING_HS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor HS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
	</RefParameter>
	
	<RefParameter Name="PRODUCT_STRING_FS" Comment="PRODUCT_STRING (Product Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The product identifier</Description>
	</RefParameter>	
	<RefParameter Name="SERIALNUMBER_STRING_FS" Comment="SERIALNUMBER_STRING (Serial number)" DefaultValue="" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">	
		<Description>The serial number identifier</Description>
	</RefParameter>	
	<RefParameter Name="CONFIGURATION_STRING_FS" Comment="CONFIGURATION_STRING (Configuration Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The configuration identifier</Description>
	</RefParameter>

	<RefParameter Name="INTERFACE_STRING_FS" Comment="INTERFACE_STRING (Interface Identifier)" DefaultValue="" Type="stringRW" Group="Device Descriptor FS" TabName="Device Descriptor">
		<Description>The interface identifier</Description>
    </RefParameter>

    <RefParameter Name="MCU_RAM_SIZE" Comment="MCU_RAM_SIZE" DefaultValue="=$RamSize" Type="integer" Visible="false"/>
    <!-- Specific Class Parameters -->
    <RefParameter Name="APP_RX_DATA_SIZE" Comment="USB CDC Rx Buffer Size" DefaultValue="2048"  Min="4" Max="2048" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc &amp; MCU_RAM_SIZE&gt;64" Diagnostic=""/>
        <Description>Number of bytes for the receive buffer</Description>
    </RefParameter>
    <RefParameter Name="APP_RX_DATA_SIZE" Comment="USB CDC Rx Buffer Size" DefaultValue="1000"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc &amp; MCU_RAM_SIZE&lt;=64" Diagnostic=""/>
        <Description>Number of bytes for the receive buffer</Description>
    </RefParameter>
    <RefParameter Name="APP_RX_DATA_SIZE" Comment="USB CDC Rx Buffer Size" DefaultValue="500"  Min="1" Max="500" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc" Diagnostic=""/>
        <Description>Number of bytes for the receive buffer</Description>
    </RefParameter>
    <RefParameter Name="APP_TX_DATA_SIZE" Comment="USB CDC Tx Buffer Size" DefaultValue="2048"  Min="4" Max="2048" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc &amp; MCU_RAM_SIZE&gt;64" Diagnostic=""/>
        <Description>Number of bytes for the transmit buffer</Description>
    </RefParameter>
    <RefParameter Name="APP_TX_DATA_SIZE" Comment="USB CDC Tx Buffer Size" DefaultValue="1000"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc &amp; MCU_RAM_SIZE&lt;=64" Diagnostic=""/>
        <Description>Number of bytes for the transmit buffer</Description>
    </RefParameter>
    <RefParameter Name="APP_TX_DATA_SIZE" Comment="USB CDC Tx Buffer Size" DefaultValue="500"  Min="1" Max="500" Type="integer" Group="Class Parameters" Unit="Bytes">
        <Condition Expression="VirtualMode = Cdc" Diagnostic=""/>
        <Description>Number of bytes for the transmit buffer</Description>
    </RefParameter>
    <!--Bug 33846, USBD_CDC_INERVAL no more use with the USB device CDC class-->
    <!--
    <RefParameter Name="USBD_CDC_INTERVAL" Comment="USBD_CDC_INTERVAL (Number of micro-frames interval)" DefaultValue="1000"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Unit="micro-framne">
        <Description>Number of micro-frames between IN transfers</Description>
	</RefParameter>
	-->
	
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Cdc" Diagnostic=""/>	
		<Description>CDC Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Msc" Diagnostic=""/>	
		<Description>MSC Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Audio" Diagnostic=""/>	
		<Description>AUDIO Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Dfu" Diagnostic=""/>	
		<Description>DFU Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Ccid" Diagnostic=""/>	
		<Description>CCID Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Mtp" Diagnostic=""/>	
		<Description>MTP Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = Hid" Diagnostic=""/>	
		<Description>HID Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">
		<Condition Expression="VirtualMode = CustomHid" Diagnostic=""/>	
		<Description>Custom HID Class Driver Structure size</Description>
	</RefParameter>
	<RefParameter Name="MAX_STATIC_ALLOC_SIZE" Comment="MAX_STATIC_ALLOC_SIZE (Maximum static allocation size)" DefaultValue="512"  Min="1" Max="1000" Type="integer" Group="Class Parameters" Visible="false">		
		<Description>Class Driver Structure size</Description>
	</RefParameter>
	
	<RefParameter Name="USBD_CUSTOMHID_OUTREPORT_BUF_SIZE" Comment="USBD_CUSTOMHID_OUTREPORT_BUF_SIZE (Maximum report buffer size (OUT ENDPOINT))" DefaultValue="2"  Min="2" Max="64" Type="integer" Group="Class Parameters" Visible="true">
		<Condition Expression="VirtualMode = CustomHid" Diagnostic=""/>	
		<Description>Custom HID Class out report buffer size (OUT ENDPOINT)</Description>
	</RefParameter>
	<RefParameter Name="USBD_CUSTOMHID_OUTREPORT_BUF_SIZE" Comment="USBD_CUSTOMHID_OUTREPORT_BUF_SIZE (Maximum report buffer size (OUT ENDPOINT))" DefaultValue="2"  Min="2" Max="64" Type="integer" Group="Class Parameters" Visible="true">		
		<Description>Custom HID Class out report buffer size (OUT ENDPOINT)</Description>
	</RefParameter>
	
	<RefParameter Name="USBD_CUSTOM_HID_REPORT_DESC_SIZE" Comment="USBD_CUSTOM_HID_REPORT_DESC_SIZE (Total length for Report descriptor (IN ENDPOINT))" DefaultValue="2"  Min="2" Max="255" Type="integer" Group="Class Parameters" Visible="true">
		<Condition Expression="VirtualMode = CustomHid" Diagnostic=""/>	
		<Description>Custom HID Total length of Report descriptor (IN ENDPOINT)</Description>
	</RefParameter>
	<RefParameter Name="USBD_CUSTOM_HID_REPORT_DESC_SIZE" Comment="USBD_CUSTOM_HID_REPORT_DESC_SIZE (Total length for Report descriptor (IN ENDPOINT))" DefaultValue="2"  Min="2" Max="255" Type="integer" Group="Class Parameters" Visible="true">		
		<Description>Custom HID Total length of Report descriptor (IN ENDPOINT)</Description>
	</RefParameter>
	
	
	<RefParameter Name="MSC_MEDIA_PACKET" Comment="MSC_MEDIA_PACKET (Media I/O buffer Size)" DefaultValue="512" Min="1" Max="32768" Type="integer" Group="Class Parameters" Unit="bytes">
		<Condition Expression="VirtualMode = Msc" Diagnostic=""/>
		<Description>The Media Iunput/Output buffer Size</Description>
	</RefParameter>
	<RefParameter Name="MSC_MEDIA_PACKET" Comment="MSC_MEDIA_PACKET (Media I/O buffer Size)" DefaultValue="512" Min="1" Max="32768" Type="integer" Group="Class Parameters" Unit="bytes">		
		<Description>The Media Iunput/Output buffer Size</Description>
	</RefParameter>
		
	<RefParameter Name="USBD_AUDIO_FREQ" Comment="USBD_AUDIO_FREQ (Audio sample frequency rate)" Min="250" Max="48000" DefaultValue="22100" Type="integer" Group="Class Parameters" Unit="sample/s">
		<Condition Expression="VirtualMode = Audio" Diagnostic=""/>
		<!--<PossibleValue Comment="22100" Value="22100"/>-->
		<Description>Audio sampling frequency rate</Description>
	</RefParameter>
	<RefParameter Name="USBD_AUDIO_FREQ" Comment="USBD_AUDIO_FREQ (Audio sample frequency rate)" Min="250" Max="48000" DefaultValue="22100" Type="integer" Group="Class Parameters" Unit="sample/s">		
		<!--<PossibleValue Comment="22100" Value="22100"/>-->
		<Description>Audio sampling frequency rate</Description>
	</RefParameter>
	
	<RefParameter Name="CCID_BULK_EP_MAX_PACKET" Comment="CCID_BULK_EP_MAX_PACKET (CCID bulk endpoint max packet size)" Min="1" Max="32768" DefaultValue="512" Type="integer" Group="Class Parameters" Visible="true" Unit="bytes">
		<Condition Expression="VirtualMode = Ccid" Diagnostic=""/>
		<!--<PossibleValue Comment="512" Value="512"/>-->	
		<Description>Bulk Endpoint IN/OUT Packet size</Description>
	</RefParameter>
	<RefParameter Name="CCID_BULK_EP_MAX_PACKET" Comment="CCID_BULK_EP_MAX_PACKET (CCID bulk endpoint max packet size)" Min="1" Max="32768" DefaultValue="512" Type="integer" Group="Class Parameters" Visible="true" Unit="bytes">		
		<!--<PossibleValue Comment="512" Value="512"/>-->	
		<Description>Bulk Endpoint IN/OUT Packet size</Description>
	</RefParameter>
	
	<RefParameter Name="CCID_INTR_EP_MAX_PACKET" Comment="CCID_INTR_EP_MAX_PACKET (CCID interrupt endpoint max packet size)" Min="1" Max="32768" DefaultValue="8" Type="integer" Group="Class Parameters" Visible="true" Unit="bytes">
		<Condition Expression="VirtualMode = Ccid" Diagnostic=""/>	
		<!--<PossibleValue Comment="8" Value="8"/>-->
		<Description>Interrupt Endpoint IN/OUT Packet size</Description>
	</RefParameter>
	<RefParameter Name="CCID_INTR_EP_MAX_PACKET" Comment="CCID_INTR_EP_MAX_PACKET (CCID interrupt endpoint max packet size)" Min="1" Max="32768" DefaultValue="8" Type="integer" Group="Class Parameters" Visible="true" Unit="bytes">			
		<!--<PossibleValue Comment="8" Value="8"/>-->
		<Description>Interrupt Endpoint IN/OUT Packet size</Description>
	</RefParameter>
	
	<RefParameter Name="USBD_DFU_MAX_ITF_NUM" Comment="USBD_DFU_MAX_ITF_NUM (DFU maximum interface numbers)" Min="1" Max="6" DefaultValue="1" Type="integer" Group="Class Parameters" Visible="true">
		<Condition Expression="VirtualMode = Dfu" Diagnostic=""/>
		<!--<PossibleValue Value="1" Comment="1"/>-->
		<Description>Maximum number of supported interfaces </Description>
	</RefParameter>
	<RefParameter Name="USBD_DFU_MAX_ITF_NUM" Comment="USBD_DFU_MAX_ITF_NUM (DFU maximum interface numbers)" Min="1" Max="6" DefaultValue="1" Type="integer" Group="Class Parameters" Visible="true">		
		<!--<PossibleValue Value="1" Comment="1"/>-->
		<Description>Maximum number of supported interfaces </Description>
	</RefParameter>
	
	<RefParameter Name="USBD_DFU_XFER_SIZE" Comment="USBD_DFU_XFER_SIZE" Min="5" Max="32768" DefaultValue="1024" Type="integer" Group="Class Parameters" Visible="true" Unit="Bytes">
		<Condition Expression="VirtualMode = Dfu" Diagnostic=""/>		
		<!--<PossibleValue Value="1024" Comment="1024"/>-->
		<Description>Maximum DFU transfert size</Description>
	</RefParameter>	
	<RefParameter Name="USBD_DFU_XFER_SIZE" Comment="USBD_DFU_XFER_SIZE" Min="1" Max="32768" DefaultValue="1024" Type="integer" Group="Class Parameters" Visible="true" Unit="Bytes">				
		<!--<PossibleValue Value="1024" Comment="1024"/>-->
		<Description>Maximum DFU transfert size</Description>
	</RefParameter>	
	
	<RefParameter Name="USBD_DFU_MEDIA" Comment="USBD_DFU_MEDIA Interface"  DefaultValue="@Internal Flash   /0x08000000/03*016Ka,01*016Kg,01*064Kg,07*128Kg,04*016Kg,01*064Kg,07*128Kg" Type="stringRW" Group="Class Parameters" Visible="true" Unit="">
		<Condition Expression="VirtualMode = Dfu" Diagnostic=""/>				
		<Description>The description of the flash (used by PC tool DFuSe)
			Each Alternate setting string descriptor must follow this memory mapping so that the PC
			Host Software can decode the right mapping for the selected device:
			● @: To detect that this is a special mapping descriptor (to avoid decoding standard
			descriptor)
			● /: for separator between zones
			● Maximum 8 digits per address starting by “0x”
			● /: for separator between zones
			● Maximum of 2 digits for the number of sectors
			● *: For separator between number of sectors and sector size
			● Maximum 3 digits for sector size between 0 and 999
			● 1 digit for the sector size multiplier. Valid entries are: B (byte), K (Kilo), M (Mega)
			● 1 digit for the sector type as follows:
			– a (0x41): Readable
			– b (0x42): Erasable
			– c (0x43): Readable and Erasabled (0x44): Writeable
			– e (0x45): Readable and Writeable
			– f (0x46): Erasable and Writeable
			– g (0x47): Readable, Erasable and Writeable
			Note: If the target memory is not contiguous, the user can add the new sectors to be decoded just
			after a slash"/" as shown in the following example:
			"@Flash /0xF000/1*4Ka/0xE000/1*4Kg/0x8000/2*24Kg"
		</Description>
	</RefParameter>	
	<RefParameter Name="USBD_DFU_MEDIA" Comment="USBD_DFU_MEDIA Interface"  DefaultValue="@Internal Flash   /0x08000000/03*016Ka,01*016Kg,01*064Kg,07*128Kg,04*016Kg,01*064Kg,07*128Kg" Type="stringRW" Group="Class Parameters" Visible="true" Unit="">	
		<Description>The description of the flash (used by PC tool DFuSe)
			Each Alternate setting string descriptor must follow this memory mapping so that the PC
			Host Software can decode the right mapping for the selected device:
			● @: To detect that this is a special mapping descriptor (to avoid decoding standard
			descriptor)
			● /: for separator between zones
			● Maximum 8 digits per address starting by “0x”
			● /: for separator between zones
			● Maximum of 2 digits for the number of sectors
			● *: For separator between number of sectors and sector size
			● Maximum 3 digits for sector size between 0 and 999
			● 1 digit for the sector size multiplier. Valid entries are: B (byte), K (Kilo), M (Mega)
			● 1 digit for the sector type as follows:
			– a (0x41): Readable
			– b (0x42): Erasable
			– c (0x43): Readable and Erasabled (0x44): Writeable
			– e (0x45): Readable and Writeable
			– f (0x46): Erasable and Writeable
			– g (0x47): Readable, Erasable and Writeable
			Note: If the target memory is not contiguous, the user can add the new sectors to be decoded just
			after a slash"/" as shown in the following example:
			"@Flash /0xF000/1*4Ka/0xE000/1*4Kg/0x8000/2*24Kg"
		</Description>
	</RefParameter>	

	<!-- a new Type is available Type = Hex 
		usage:
		<RefParameter Comment="" Comment Parameter" DefaultValue="A" Max="FFFFFFF" Min="1" Name="Name Parameter" Type="hex" Group="Basic Parameters"/>
	-->
	
	<!--<RefParameter Name="USBD_DFU_APP_DEFAULT_ADD" Comment="USBD_DFU_APP_DEFAULT_ADD (enter a new address using hexadecimal format 0xVVVVVVVV)" DefaultValue="0x08000000" Type="stringRW" Group="Class Parameters" Visible="true" >						
		<Description>Media Memory base address enter a value between 0x0 and 0xFFFFFFFF</Description>
	</RefParameter>-->
	
	<RefParameter Name="USBD_DFU_APP_DEFAULT_ADD" Comment="USBD_DFU_APP_DEFAULT_ADD (Base Address 0x)" DefaultValue="0x08000000" Min="0x0" Max="0xFFFFFFFF" Type="Hex" Group="Class Parameters" Visible="true" >						
		<Description>Media Memory base address: enter an hexadecimal value between 0x0 and 0xFFFFFFFF</Description>
	</RefParameter>
	
	<!-- Virtual Mode Parameter, to define RefParameter in function of RefMode -->
	
	
	<!-- This RefParameter is defined in order to be able to have the LibMethod with the status == OK -->
	<RefParameter Name="dev_config" Comment="dev_config" DefaultValue="0" Type="list" Group="" Visible="false"/>
	
	<!-- Parameters for the Low Level driver (C files) -->
	<!-- Parameters used by usbd_conf.c -->
	<!-- USB_OTG HS ip -->	
	<RefParameter Name="USBD_HandleTypeDef_FS" Comment="" DefaultValue="hUsbDevice_OTG_FS" Type="list" Visible="false">
		<Condition Expression="MW_USB_OTG_FS_MW_DEVICE" Diagnostic=""/>
		<PossibleValue Comment="" Value="hUsbDevice_OTG_FS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_HandleTypeDef_HS" Comment="" DefaultValue="hUsbDevice_OTG_HS" Type="list" Visible="false">	
		<Condition Expression="MW_USB_OTG_HS_MW_DEVICE" Diagnostic=""/>
		<PossibleValue Comment="" Value="hUsbDevice_OTG_HS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_HandleTypeDef_HS" Comment="" DefaultValue="hUsbDevice_OTG_HS" Type="list" Visible="false">	
		<Condition Expression="MW_USB_OTG_HS_MW_FS_DEVICE" Diagnostic=""/>
		<PossibleValue Comment="" Value="hUsbDevice_OTG_HS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_HandleTypeDef_FS" Comment="" DefaultValue="hUsbDevice_USB_FS" Type="list" Visible="false">
		<Condition Expression="MW_USB_MW_DEVICE" Diagnostic=""/>
		<PossibleValue Comment="" Value="hUsbDevice_USB_FS"/>	
	</RefParameter>
	
	<RefParameter Name="id" Comment="" DefaultValue="id" Type="list" Visible="false">		
		<PossibleValue Value="id" Comment=""/>
	</RefParameter>
	<RefParameter Name="DEVICE_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="DEVICE_FS"/>	
	</RefParameter>
	<RefParameter Name="DEVICE_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="DEVICE_HS"/>	
	</RefParameter>
	
	<!-- For the Descriptor -->
	<RefParameter Name="USBD_DESC" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USB_ALL_DESCRIPTOR"/>	
	</RefParameter>
	<RefParameter Name="HS_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="HS_Desc"/>	
	</RefParameter>
	<RefParameter Name="FS_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="FS_Desc"/>	
	</RefParameter>
	<!-- Tracker 51382 -->
	<RefParameter Name="DFU_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="DFU_Desc"/>	
	</RefParameter>	
	<RefParameter Name="HID_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="HID_Desc"/>	
	</RefParameter>
	<RefParameter Name="MSC_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="MSC_Desc"/>	
	</RefParameter>
	<RefParameter Name="CDC_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="CDC_Desc"/>
	</RefParameter>
	<RefParameter Name="AUDIO_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="AUDIO_Desc"/>	
	</RefParameter>	
	<RefParameter Name="CCID_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="CCID_Desc"/>	
	</RefParameter>	
	<RefParameter Name="MTP_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="MTP_Desc"/>	
	</RefParameter>
	<RefParameter Name="CUSTOM_HID_Desc" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="CUSTOM_HID_Desc"/>	
	</RefParameter>
	
	
	<!-- For the class -->
	<RefParameter Name="USBD_CLASS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USB_ALL_CLASSES"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_CDC" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CDC"/>	
	</RefParameter>
	<RefParameter Name="USBD_HID" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_HID"/>	
	</RefParameter>
	<RefParameter Name="USBD_CUSTOM_HID" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CUSTOM_HID"/>	
	</RefParameter>
	<RefParameter Name="USBD_MSC" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_MSC"/>	
	</RefParameter>
	<RefParameter Name="USBD_AUDIO" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_AUDIO"/>	
	</RefParameter>
	<RefParameter Name="USBD_CCID" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CCID"/>	
	</RefParameter>
	<RefParameter Name="USBD_DFU" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_DFU"/>	
	</RefParameter>
	<RefParameter Name="USBD_MTP" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_MTP"/>	
	</RefParameter>
	
	<!-- For the Callback -->
	<RefParameter Name="USBD_USER_CALLBACK" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USB_ALL_CALLBACK"/>	
	</RefParameter>
	<RefParameter Name="USBD_Interface_fops" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_Interface_fops"/>	
	</RefParameter>
	<RefParameter Name="USBD_Interface_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_Interface_fops_HS"/>	
	</RefParameter>
	<RefParameter Name="USBD_Interface_fops_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_Interface_fops_FS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_Storage_Interface_fops_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_Storage_Interface_fops_FS"/>	
	</RefParameter>	
	<RefParameter Name="USBD_Storage_Interface_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_Storage_Interface_fops_HS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_CustomHID_fops_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CustomHID_fops_FS"/>	
	</RefParameter>	
	<RefParameter Name="USBD_CustomHID_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CustomHID_fops_HS"/>	
	</RefParameter>
	
	<RefParameter Name="USBD_AUDIO_fops_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_AUDIO_fops_FS"/>	
	</RefParameter>
	<RefParameter Name="USBD_AUDIO_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_AUDIO_fops_HS"/>	
	</RefParameter>
	<RefParameter Name="USBD_CCID_fops_FS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CCID_fops_FS"/>	
	</RefParameter>
	<RefParameter Name="USBD_CCID_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_CCID_fops_HS"/>	
	</RefParameter>
	<RefParameter Name="USBD_DFU_Flash_fops" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_DFU_Flash_fops"/>	
	</RefParameter>	
	<RefParameter Name="USBD_DFU_fops_HS" Comment="" DefaultValue="0" Max="10" Min="0"  Type="integer" Visible="false">
		<PossibleValue Comment="" Value="USBD_DFU_fops_HS"/>	
	</RefParameter>	
	
	

	<!-- RefMode for USB DEVICE : Support AUDIO Class-->		
	<RefMode Name="AUDIO_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_AUDIO_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Audio</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Audio_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->		
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>
		<!-- Parameters for Device Descriptors -->
		<Parameter Name="PID_AUDIO_FS"/>
		<Parameter Name="PRODUCT_STRING_AUDIO_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_AUDIO_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_AUDIO_FS"/>
		<Parameter Name="INTERFACE_STRING_AUDIO_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>AUDIO</PossibleValue>
		</Parameter>	
		<Parameter Name="USBD_AUDIO_FREQ">
			<Condition Expression="(AUDIO_FS) &amp; (!AUDIO_HS)" Diagnostic=""/>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support CDC Class-->	
	<RefMode Name="CCID_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_CCID_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Ccid</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Ccid_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>		
		<!-- Parameters for Device Descriptors -->			
		<Parameter Name="PID_CCID_FS"/>		
		<Parameter Name="PRODUCT_STRING_CCID_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_CCID_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_CCID_FS"/>
		<Parameter Name="INTERFACE_STRING_CCID_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>CCID</PossibleValue>
		</Parameter>
		<Parameter Name="CCID_BULK_EP_MAX_PACKET">
			<Condition Expression="(CCID_FS) &amp; (!CCID_HS)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="CCID_INTR_EP_MAX_PACKET">
			<Condition Expression="(CCID_FS) &amp; (!CCID_HS)" Diagnostic=""/>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support CDC Class-->	
	<RefMode Name="CDC_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_CDC_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Cdc</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Cdc_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>				
		<!-- Parameters for Device Descriptors -->				
		<Parameter Name="PID_CDC_FS"/>			
		<Parameter Name="PRODUCT_STRING_CDC_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_CDC_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_CDC_FS"/>
		<Parameter Name="INTERFACE_STRING_CDC_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>					
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>CDC</PossibleValue>
		</Parameter>
		
		<Parameter Name="APP_RX_DATA_SIZE">
			<Condition Expression="(USB_DEVICE_HS_CLASSES) | (USB_DEVICE_FS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="APP_TX_DATA_SIZE">
			<Condition Expression="(USB_DEVICE_HS_CLASSES) | (USB_DEVICE_FS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support DFU Class-->
	<RefMode Name="DFU_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_DFU_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Dfu</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Dfu_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
			<PossibleValue>1</PossibleValue>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>				
		<!-- Parameters for Device Descriptors -->				
		<Parameter Name="PID_DFU_FS"/>			
		<Parameter Name="PRODUCT_STRING_DFU_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_DFU_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_DFU_FS"/>
		<Parameter Name="INTERFACE_STRING_DFU_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>DFU</PossibleValue>
		</Parameter>
		<Parameter Name="USBD_DFU_MAX_ITF_NUM">
			<Condition Expression="(DFU_FS) &amp; (!DFU_HS)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DFU_XFER_SIZE">
			<Condition Expression="(DFU_FS) &amp; (!DFU_HS)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="USBD_DFU_APP_DEFAULT_ADD">
			<Condition Expression="(DFU_FS) &amp; (!DFU_HS)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DFU_MEDIA">
			<Condition Expression="(DFU_FS) &amp; (!DFU_HS)" Diagnostic=""/>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support HID Class-->	
	<RefMode Name="HID_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_HID_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Hid</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Hid_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>				
		<!-- Parameters for Device Descriptors -->		
		<Parameter Name="PID_HID_FS"/>	
		<Parameter Name="PRODUCT_STRING_HID_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_HID_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_HID_FS"/>
		<Parameter Name="INTERFACE_STRING_HID_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>HID</PossibleValue>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support Custom HID Class-->	
	<RefMode Name="CUSTOM_HID_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_CUSTOM_HID_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>CustomHid</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Custom_Hid_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
			<PossibleValue>1</PossibleValue>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>		
		<!-- Parameters for Device Descriptors -->		
		<Parameter Name="PID_CUSTOMHID_FS"/>		
		<Parameter Name="PRODUCT_STRING_CUSTOMHID_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_CUSTOMHID_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_CUSTOMHID_FS"/>
		<Parameter Name="INTERFACE_STRING_CUSTOMHID_FS"/>				
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>CUSTOM_HID</PossibleValue>
		</Parameter>
		<Parameter Name="USBD_CUSTOM_HID_REPORT_DESC_SIZE">
			<Condition Expression="(CUSTOM_HID_FS) &amp; (!CUSTOM_HID_HS)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_CUSTOMHID_OUTREPORT_BUF_SIZE">
			<Condition Expression="(CUSTOM_HID_FS) &amp; (!CUSTOM_HID_HS)" Diagnostic=""/>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support MSC Class (Mass Storage)-->	
	<RefMode Name="MSC_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_MSC_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Msc</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Msc_FS</PossibleValue>
		</Parameter>		
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>				
		<!-- Parameters for Device Descriptors -->		
		<Parameter Name="PID_MSC_FS"/>		
		<Parameter Name="PRODUCT_STRING_MSC_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_MSC_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_MSC_FS"/>
		<Parameter Name="INTERFACE_STRING_MSC_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>MSC</PossibleValue>
		</Parameter>
		<Parameter Name="MSC_MEDIA_PACKET">
			<Condition Expression="(MSC_FS) &amp; (!MSC_HS)" Diagnostic=""/>
		</Parameter>
				
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
		
		
		
		
	</RefMode>
	
	<!-- RefMode for USB DEVICE : Support MTP Class (Media Transport Protocol)-->	
	<RefMode Name="MTP_FS" Abstract="false">
		<ConfigForMode>USB_DEVICE_MTP_FS</ConfigForMode>
		<Parameter Name="VirtualMode">		
			<PossibleValue>Mtp</PossibleValue>
		</Parameter>
		<Parameter Name="VirtualModeFS">		
			<PossibleValue>Mtp_FS</PossibleValue>
		</Parameter>
		<!-- Parameters for Function and Buffer Configurations -->
		<Parameter Name="USBD_MAX_NUM_INTERFACES">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_NUM_CONFIGURATION">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_MAX_STR_DESC_SIZ">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SUPPORT_USER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_SELF_POWERED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="USBD_DEBUG_LEVEL">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>	
		<Parameter Name="MAX_STATIC_ALLOC_SIZE">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="VID">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>			
		<Parameter Name="LANGID_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<Parameter Name="MANUFACTURER_STRING">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>
		</Parameter>
		<!-- Parameters for Link Power Management -->
		<Parameter Name="USBD_LPM_ENABLED">
			<Condition Expression="(USB_DEVICE_FS_CLASSES) &amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic=""/>			
		</Parameter>				
		<!-- Parameters for Device Descriptors -->		
		<Parameter Name="PID_MTP_FS"/>		
		<Parameter Name="PRODUCT_STRING_MTP_FS"/>
		<!--<Parameter Name="SERIALNUMBER_STRING_MTP_FS"/>-->
		<Parameter Name="CONFIGURATION_STRING_MTP_FS"/>
		<Parameter Name="INTERFACE_STRING_MTP_FS"/>		
		<Parameter Name="USBD_HandleTypeDef_FS"/>			
		<Parameter Name="CLASS_NAME_FS">
			<PossibleValue>MTP</PossibleValue>
		</Parameter>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="Input">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>		
		</BspDependency>
		<BspDependency Name="BCD Detection" Comment="The GPIO is capable to detect the VBUS presence" BspIpName="GPIO" BspModeName="EXTI" Api="">
			<Condition Expression="SEM_BCD_ENABLED" Diagnostic=""/>	
		</BspDependency>
	</RefMode>
	
	<!-- ModeLogicOperator for USB_DEVICE -->
	<ModeLogicOperator Name="OR">
		<!--<Mode Name="Class For HS IP" RemoveCondition="!(USB_OTG_HS:$modeexist_External_Phy)">-->			
		<Mode Name="Class For FS IP">
			<ModeLogicOperator Name="XOR">
				<Mode Name="AUDIO_FS" UserName="Audio Device Class">				
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_AUDIO_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>AUDIO_FS</Semaphore>
					<Condition Expression="!AUDIO_HS" Diagnostic="The USB AUDIO share the same audio frequency"/>					
				</Mode>
				<!--<Mode Name="CCID_FS" UserName="CCID_FS">
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_CCID_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>CCID_FS</Semaphore>
				</Mode>
				-->
				<Mode Name="CDC_FS" UserName="Communication Device Class (Virtual Port Com)">
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_CDC_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>CDC_FS</Semaphore>
				</Mode>	
				<Mode Name="DFU_FS" UserName="Download Firmware Update Class (DFU)">
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_DFU_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>DFU_FS</Semaphore>
					<Condition Expression="!DFU_HS" Diagnostic="The USB DFU class cannot share the same memory address"/>
				</Mode>					
				<Mode Name="HID_FS" UserName="Human Interface Device Class (HID)">				
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_HID_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>HID_FS</Semaphore>
				</Mode>	
				<!-- Add Custom HID Class -->
				<Mode Name="CUSTOM_HID_FS" UserName="Custom Human Interface Device Class (HID)">				
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_CUSTOM_HID_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>CUSTOM_HID_FS</Semaphore>
					<!-- Bug 302986 to be removed when STM32F2 FW has fixed the issue-->
					<!--<Condition Diagnostic="Not available for STM32F2" Expression="!STM32F2"/>-->
				</Mode>	
				<Mode Name="MSC_FS" UserName="Mass Storage Class">
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_MSC_FS"/>
					</SignalLogicalOp>
					<Semaphore>USB_DEVICE_MSC</Semaphore>
					<Semaphore>MSC_FS</Semaphore>
				</Mode>
				<!--<Mode Name="MTP_FS" UserName="MTP_FS">				
					<SignalLogicalOp Name="AND">
						<Signal IOMode="" Name="VS_USB_DEVICE_MTP_FS"/>
					</SignalLogicalOp>
					<Semaphore>DEVICE_FULL_SPEED</Semaphore>
					<Semaphore>MTP_FS</Semaphore>
				</Mode>	
				-->
			</ModeLogicOperator>	
			<Semaphore>USB_DEVICE_FS_CLASSES</Semaphore>
			<!--<Condition Expression="(MW_USB_OTG_FS_MW_DEVICE | MW_USB_MW_DEVICE)&amp; (!USB_DEVICE_HS_CLASSES)" Diagnostic="Active only when USB_OTG_FS IP is configured in Device mode"/>-->
			<!-- Trqacker 306857 -->
			<Condition Expression="(MW_USB_OTG_FS_MW_DEVICE | MW_USB_MW_DEVICE)" Diagnostic="Active only when USB_OTG_FS IP is configured in Device mode"/>			
		</Mode>
	</ModeLogicOperator>
	
	<!-- RefSignal for USB_DEVICE -->
	<RefSignal Name="VS_USB_DEVICE_CCID_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_CDC_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_HID_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_CUSTOM_HID_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_AUDIO_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_MSC_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_DFU_FS" Virtual="true"/>
	<RefSignal Name="VS_USB_DEVICE_MTP_FS" Virtual="true"/>		
</IP>
